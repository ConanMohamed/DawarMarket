{% extends "admin/base_site.html" %}
{% load i18n %}

{% block title %}Order #{{ order.id }}{% endblock %}

{% block content %}
<style>
    body {
        font-family: 'Cairo', sans-serif;
        direction: rtl;
        background-color: #fff;
        color: #333;
        padding: 40px;
    }

    h1 {
        font-size: 24px;
        margin-bottom: 10px;
        color: #444;
    }

    .section-title {
        font-size: 20px;
        margin-top: 30px;
        border-bottom: 2px solid #eee;
        padding-bottom: 5px;
        margin-bottom: 15px;
    }

    .info-block {
        margin-bottom: 10px;
    }

    .info-block strong {
        display: inline-block;
        width: 100px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }

    table th, table td {
        border: 1px solid #ddd;
        padding: 10px;
        text-align: center;
        font-size: 15px;
    }

    table th {
        background-color: #f5f5f5;
    }

    .table-footer {
        background-color: #222 !important;
        color: #fff !important;
        font-weight: bold;
    }

    .print-btn {
        margin-top: 30px;
        padding: 10px 25px;
        font-size: 16px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 6px;
        cursor: pointer;
    }

    @media print {
        .print-btn {
            display: none;
        }
    }
</style>

<h1>Order #{{ order.id }}</h1>
<p class="section-title">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ #{{ order.id }}</p>

<div class="section-title">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</div>
<div class="info-block"><strong>Ø§Ù„Ø§Ø³Ù…:</strong> {{ order.customer.full_name }}</div>
<div class="info-block"><strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> {{ order.customer.phone }}</div>
<div class="info-block"><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> {{ order.customer.address }}</div>
<div class="info-block"><strong>Ø¹Ù„Ø§Ù…Ø© Ù…Ù…ÙŠØ²Ø©:</strong> {{ order.customer.near_mark }}</div>

<div class="section-title">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</div>
<table>
    <thead>
        <tr>
            <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
            <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
            <th>Ø§Ù„Ø³Ø¹Ø±</th>
            <th>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</th>
        </tr>
    </thead>
    <tbody>
        {% for item in order.items.all %}
        <tr>
            <td>{{ item.product.title }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.product.price_after_discount|floatformat:2 }} EGP</td>
            <td>{{ item.get_total_price }} EGP</td>
        </tr>
        {% endfor %}
        <tr class="table-footer">
            <td colspan="3" style="text-align: right;">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ:</td>
            <td>{{ order.total_price|floatformat:2 }} EGP</td>
        </tr>
    </tbody>
</table>

<div class="section-title">Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</div>
<div class="info-block"><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> {{ order.order_status }}</div>
<div class="info-block"><strong>ÙˆÙ‚Øª Ø§Ù„Ø·Ù„Ø¨:</strong> {{ order.placed_at }}</div>

<button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨</button>

{% endblock %}

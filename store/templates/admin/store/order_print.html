{% extends "admin/base_site.html" %}
{% load i18n %}

{% block content %}
<style>
    body {
        font-family: 'Cairo', sans-serif;
        direction: rtl;
        padding: 40px;
        color: #333;
        background-color: #fff;
    }

    h1, h2, h3 {
        color: #444;
        margin-bottom: 20px;
    }

    .section-title {
        margin-top: 30px;
        font-size: 20px;
        border-bottom: 2px solid #eee;
        padding-bottom: 5px;
        margin-bottom: 15px;
    }

    .info-block {
        margin-bottom: 20px;
    }

    .info-block strong {
        display: inline-block;
        width: 120px;
        color: #555;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
        font-size: 15px;
    }

    table th, table td {
        border: 1px solid #ddd;
        padding: 10px;
        text-align: center;
    }

    table th {
        background-color: #f5f5f5;
        font-weight: bold;
    }

    .total {
        text-align: left;
        font-weight: bold;
        margin-top: 10px;
        font-size: 16px;
    }

    .print-btn {
        margin-top: 30px;
        padding: 10px 20px;
        font-size: 16px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    @media print {
        .print-btn {
            display: none;
        }
    }
</style>

<div id="content-main" class="order-print">
    <h1>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ #{{ order.id }}</h1>
    
    <div class="customer-info">
        <h2>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h2>
        <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> {{ order.customer.full_name }}</p>
        <p><strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> {{ order.customer.phone }}</p>
        <p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> {{ order.customer.address }}</p>
        <p><strong>Ø¹Ù„Ø§Ù…Ø© Ù…Ù…ÙŠØ²Ø©:</strong> {{ order.customer.near_mark }}</p>
    </div>
    
    <div class="order-details">
        <h2>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</h2>
        <table>
            <thead>
                <tr>
                    <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
                    <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                    <th>Ø§Ù„Ø³Ø¹Ø±</th>
                    <th>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</th>
                </tr>
            </thead>
            <tbody>
                {% for item in order.items.all %}
                <tr>
                    <td>{{ item.product.title }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>{{ item.product.price_after_discount }} EGP</td>
                    <td>{{ item.get_total_price }} EGP</td>
                </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3"><strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ:</strong></td>
                    <td>{{ order.total_price }} EGP</td>
                </tr>
            </tfoot>
        </table>
    </div>
    
    <div class="order-status">
        <h2>Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</h2>
        <p><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> {{ order.get_order_status_display }}</p>
        <p><strong>ÙˆÙ‚Øª Ø§Ù„Ø·Ù„Ø¨:</strong> {{ order.placed_at }}</p>
    </div>
</div>

<button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨</button>
{% endblock %}